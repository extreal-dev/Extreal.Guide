"use strict";(self.webpackChunkextreal=self.webpackChunkextreal||[]).push([[2976],{8197:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>g,toc:()=>p});var i=a(9668),t=(a(6540),a(5680));a(7443);const l={sidebar_position:3},r="Multiplay using Netcode for GameObjects",g={unversionedId:"learning/multiplay.ngo",id:"version-1.0.0/learning/multiplay.ngo",title:"Multiplay using Netcode for GameObjects",description:"\u3053\u3053\u3067\u306fNGO\u30e9\u30c3\u30d1\u30fc\u306b\u3064\u3044\u3066\u5b66\u7fd2\u3057\u307e\u3059\u3002",source:"@site/versioned_docs/version-1.0.0/learning/multiplay.ngo.md",sourceDirName:"learning",slug:"/learning/multiplay.ngo",permalink:"/Extreal.Guide/1.0.0/learning/multiplay.ngo",draft:!1,tags:[],version:"1.0.0",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Chat using Vivox",permalink:"/Extreal.Guide/1.0.0/learning/chat.vivox"},next:{title:"Legal",permalink:"/Extreal.Guide/1.0.0/category/legal"}},o={},p=[{value:"Prepare project",id:"prepare-project",level:2},{value:"Add multiplayer server",id:"add-multiplayer-server",level:2},{value:"Commonize NetworkManager",id:"commonize-networkmanager",level:2},{value:"Add connection to multiplay room",id:"add-connection-to-multiplay-room",level:2},{value:"Add player spawn",id:"add-player-spawn",level:2},{value:"Application",id:"application",level:3},{value:"Multiplay Server",id:"multiplay-server",level:3},{value:"Play",id:"play",level:2},{value:"Next Step",id:"next-step",level:2}],s={toc:p},y="wrapper";function u(e){let{components:n,...l}=e;return(0,t.yg)(y,(0,i.A)({},s,l,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"multiplay-using-netcode-for-gameobjects"},"Multiplay using Netcode for GameObjects"),(0,t.yg)("p",null,"\u3053\u3053\u3067\u306f",(0,t.yg)("a",{parentName:"p",href:"/Extreal.Guide/1.0.0/integration/multiplay.ngo"},"NGO\u30e9\u30c3\u30d1\u30fc"),"\u306b\u3064\u3044\u3066\u5b66\u7fd2\u3057\u307e\u3059\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"\u5b66\u7fd2\u6642\u9593\u306e\u76ee\u5b89",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"60\u5206"))),(0,t.yg)("li",{parentName:"ul"},"Unity\u30d0\u30fc\u30b8\u30e7\u30f3",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"2021.3.16f1")))),(0,t.yg)("p",null,"NGO\u30e9\u30c3\u30d1\u30fc\u306e\u5b66\u7fd2\u3067\u306f\u5b66\u7fd2\u7528\u306b\u7528\u610f\u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u3053\u306e\u5b66\u7fd2\u7528\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306fCore\u306e\u5b66\u7fd2\u3067\u69cb\u7bc9\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u30d9\u30fc\u30b9\u306b\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\nCore\u306e\u5b66\u7fd2\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u65b9\u306f\u3053\u306e\u5b66\u7fd2\u3088\u308a\u5148\u306b",(0,t.yg)("a",{parentName:"p",href:"/Extreal.Guide/1.0.0/learning/core"},"Core\u306e\u5b66\u7fd2"),"\u3092\u5b9f\u65bd\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002"),(0,t.yg)("p",null,"NGO\u30e9\u30c3\u30d1\u30fc\u304c\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u305f\u5b66\u7fd2\u7528\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u3067\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u3067\u304d\u308b\u3088\u3046\u306b\u30b5\u30fc\u30d0\u30fc\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002"),(0,t.yg)("h2",{id:"prepare-project"},"Prepare project"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u307e\u305a\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u6e96\u5099\u3057\u307e\u3057\u3087\u3046\u3002")),(0,t.yg)("p",null,"\u5b66\u7fd2\u7528\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30af\u30ed\u30fc\u30f3\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-text"},"https://github.com/extreal-dev/Extreal.Learning.Multiplay.NGO.git\n")),(0,t.yg)("p",null,"Unity\u30a8\u30c7\u30a3\u30bf\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304d\u307e\u3059\u3002"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002")),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"Assets"),"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u6b21\u306e3\u3064\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u5404\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u3068\u540c\u3058\u540d\u524d\u3067Assembly Definition\u3092\u4f5c\u6210\u3057\u3066\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5236\u5fa1\u3057\u3066\u3044\u307e\u3059\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"ExtrealCoreLearning",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a2\u30bb\u30c3\u30c8\u3092\u683c\u7d0d\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3068\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u3092\u4f5c\u6210\u6e08\u307f\u3067\u3059\u3002",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u306b\u306f",(0,t.yg)("a",{parentName:"li",href:"http://u3d.as/2z1r"},"Starter Assets - Third Person Character Controller"),"\u304c\u63d0\u4f9b\u3059\u308b\u30a2\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u3067\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002"))),(0,t.yg)("li",{parentName:"ul"},"\u3053\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5b9f\u88c5\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"))),(0,t.yg)("li",{parentName:"ul"},"ExtrealCoreLearning.MultiplayServer",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306e\u30a2\u30bb\u30c3\u30c8\u3092\u683c\u7d0d\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u3053\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u306e\u30b5\u30fc\u30d0\u30fc\u5b9f\u88c5\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"))),(0,t.yg)("li",{parentName:"ul"},"ExtrealCoreLearning.MultiplayCommon",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306b\u5171\u901a\u3059\u308b\u30a2\u30bb\u30c3\u30c8\u3092\u683c\u7d0d\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"NGO\u306b\u5bfe\u5fdc\u3057\u305f\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30d7\u30ec\u30cf\u30d6\u3092\u4f5c\u6210\u6e08\u307f\u3067\u3059\u3002",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30d7\u30ec\u30cf\u30d6\u306b\u306f",(0,t.yg)("a",{parentName:"li",href:"http://u3d.as/2z1r"},"Starter Assets - Third Person Character Controller"),"\u304c\u63d0\u4f9b\u3059\u308b\u30a2\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002"))),(0,t.yg)("li",{parentName:"ul"},"\u3053\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3067NetworkManager\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002")))),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u554f\u984c\u304c\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning/App\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b",(0,t.yg)("inlineCode",{parentName:"p"},"App"),"\u30b7\u30fc\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u306eGo\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u306b\u79fb\u52d5\u3067\u304d\u308c\u3070\u6210\u529f\u3067\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"Project success",src:a(6352).A,width:"930",height:"586"})),(0,t.yg)("p",null,"\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u3067\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u3067\u304d\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002"),(0,t.yg)("h2",{id:"add-multiplayer-server"},"Add multiplayer server"),(0,t.yg)("p",null,"\u307e\u305a\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306e\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308bModel\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning.MultiplayServer\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\nNgoServer\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d0\u30fc\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\u5f8c\u307b\u3069\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u3066\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u30b9\u30dd\u30fc\u30f3\u3059\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"using Cysharp.Threading.Tasks;\nusing Extreal.Integration.Multiplay.NGO;\n\nnamespace ExtrealCoreLearning.MultiplayServer\n{\n    public class MultiplayServer\n    {\n        private readonly NgoServer ngoServer;\n\n        public MultiplayServer(NgoServer ngoServer)\n        {\n            this.ngoServer = ngoServer;\n        }\n\n        public UniTask StartAsync()\n        {\n            return ngoServer.StartServerAsync();\n        }\n    }\n}\n")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308bPresenter\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning.MultiplayServer\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\nMultiplayServer\u30b7\u30fc\u30f3\u304c\u958b\u59cb\u3059\u308b\u3068\u30b5\u30fc\u30d0\u30fc\u3092\u958b\u59cb\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"using Cysharp.Threading.Tasks;\nusing VContainer.Unity;\n\nnamespace ExtrealCoreLearning.MultiplayServer\n{\n    public class MultiplayServerPresenter : IStartable\n    {\n        private readonly MultiplayServer multiplayServer;\n\n        public MultiplayServerPresenter(MultiplayServer multiplayServer)\n        {\n            this.multiplayServer = multiplayServer;\n        }\n\n        public void Start()\n        {\n            multiplayServer.StartAsync().Forget();\n        }\n    }\n}\n")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306b\u5fc5\u8981\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7d44\u307f\u7acb\u3066\u308bScope\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning.MultiplayServer\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u3092\u51fa\u529b\u3057\u305f\u3044\u306e\u3067Logging\u306e\u521d\u671f\u5316\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\nNetworkManager\u306fGameObject\u3068\u3057\u3066\u914d\u7f6e\u3059\u308b\u306e\u3067\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u304b\u3089\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"using Extreal.Core.Logging;\nusing Extreal.Integration.Multiplay.NGO;\nusing Unity.Netcode;\nusing UnityEngine;\nusing VContainer;\nusing VContainer.Unity;\nusing LogLevel = Extreal.Core.Logging.LogLevel;\n\nnamespace ExtrealCoreLearning.MultiplayServer\n{\n    public class MultiplayServerScope : LifetimeScope\n    {\n        [SerializeField] private NetworkManager networkManager;\n\n        private static void InitializeApp()\n        {\n            const LogLevel logLevel = LogLevel.Debug;\n            LoggingManager.Initialize(logLevel: logLevel);\n        }\n\n        protected override void Awake()\n        {\n            InitializeApp();\n            base.Awake();\n        }\n\n        protected override void Configure(IContainerBuilder builder)\n        {\n            builder.RegisterComponent(networkManager);\n            builder.Register<NgoServer>(Lifetime.Singleton);\n            builder.Register<MultiplayServer>(Lifetime.Singleton);\n\n            builder.RegisterEntryPoint<MultiplayServerPresenter>();\n        }\n    }\n}\n")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"NetworkManager\u3092\u30a2\u30bf\u30c3\u30c1\u3057\u305fGameObject\u3092MultiplayServer\u30b7\u30fc\u30f3\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"Add NetworkManager",src:a(3324).A,width:"1008",height:"563"})),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"MultiplayServer\u30b7\u30fc\u30f3\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"NetworkManager"),"\u3068\u3044\u3046\u540d\u524d\u3067GameObject\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u306eAdd Component\u304b\u3089",(0,t.yg)("inlineCode",{parentName:"li"},"Network Manager"),"\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u306eSelect transport...\u304b\u3089",(0,t.yg)("inlineCode",{parentName:"li"},"UnityTransport"),"\u3092\u9078\u3073\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"StageNavigation\u3067\u30b7\u30fc\u30f3\u3092\u7ba1\u7406\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u306e",(0,t.yg)("inlineCode",{parentName:"strong"},"Scene Management\uff1eEnable Scene Management"),"\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059\u3002"))),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"Scope\u30b9\u30af\u30ea\u30d7\u30c8\u3092MultiplayServer\u30b7\u30fc\u30f3\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"Add scope",src:a(4431).A,width:"1052",height:"392"})),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"MultiplayServer\u30b7\u30fc\u30f3\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"Scope"),"\u3068\u3044\u3046\u540d\u524d\u3067MultiplayServerScope\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30a2\u30bf\u30c3\u30c1\u3057\u305fGameObject\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"NetworkManager\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"MultiplayServer\u30b7\u30fc\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nConsole\u306b",(0,t.yg)("inlineCode",{parentName:"p"},"[Debug:NgoServer] The server has started"),"\u3068\u51fa\u529b\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"Server success",src:a(262).A,width:"562",height:"128"})),(0,t.yg)("h2",{id:"commonize-networkmanager"},"Commonize NetworkManager"),(0,t.yg)("p",null,"NetworkManager\u306f\u30b5\u30fc\u30d0\u30fc\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u540c\u3058\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u30d7\u30ec\u30cf\u30d6\u306b\u3057\u3066\u30b5\u30fc\u30d0\u30fc\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u540c\u3058\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"NetworkManager\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30d7\u30ec\u30cf\u30d6\u306b\u5909\u66f4\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"MultiplayServer\u30b7\u30fc\u30f3\u306eNetworkManager\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092",(0,t.yg)("inlineCode",{parentName:"p"},"ExtrealCoreLearning.MultiplayCommon"),"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u307e\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"NetworkManager prefab",src:a(6027).A,width:"1041",height:"229"})),(0,t.yg)("h2",{id:"add-connection-to-multiplay-room"},"Add connection to multiplay room"),(0,t.yg)("p",null,"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u3078\u306e\u53c2\u52a0\u3068\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u304b\u3089\u306e\u9000\u5ba4\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u307e\u305a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u3046NgoClient\u306e\u521d\u671f\u5316\u3092\u884c\u3044\u307e\u3059\u3002")),(0,t.yg)("p",null,"NgoClient\u306e\u521d\u671f\u5316\u306b\u306fNetworkManager\u304c\u5fc5\u8981\u3067\u3059\u3002\nNgoClient\u3068NetworkManager\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30671\u3064\u5b58\u5728\u3059\u308c\u3070\u3088\u3044\u306e\u3067App\u30b7\u30fc\u30f3\u306b\u542b\u3081\u3066\u304a\u304d\u3001\u7a7a\u9593\u304c\u5897\u3048\u3066\u3082\u518d\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"AppScope"),"\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5909\u66f4\u3057\u3066NgoClient\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"using Extreal.Core.Logging;\nusing Extreal.Core.StageNavigation;\n// highlight-start\nusing Extreal.Integration.Multiplay.NGO;\nusing Unity.Netcode;\n// highlight-end\nusing UnityEngine;\nusing VContainer;\nusing VContainer.Unity;\n// highlight-start\nusing LogLevel = Extreal.Core.Logging.LogLevel;\n// highlight-end\n\nnamespace ExtrealCoreLearning.App\n{\n    public class AppScope : LifetimeScope\n    {\n        [SerializeField] private StageConfig stageConfig;\n\n        // highlight-start\n        [SerializeField] private NetworkManager networkManager;\n        // highlight-end\n\n        private static void InitializeApp()\n        {\n            // Omitted due to no changes\n        }\n\n        protected override void Awake()\n        {\n            // Omitted due to no changes\n        }\n\n        protected override void Configure(IContainerBuilder builder)\n        {\n            builder.RegisterComponent(stageConfig).AsImplementedInterfaces();\n            builder.Register<StageNavigator<StageName, SceneName>>(Lifetime.Singleton);\n\n            // highlight-start\n            builder.RegisterComponent(networkManager);\n            builder.Register<NgoClient>(Lifetime.Singleton);\n            // highlight-end\n\n            builder.RegisterEntryPoint<AppPresenter>();\n        }\n    }\n}\n")),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"ExtrealCoreLearning.MultiplayCommon"),"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308bNetworkManager\u306e\u30d7\u30ec\u30cf\u30d6\u3092App\u30b7\u30fc\u30f3\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u3001",(0,t.yg)("inlineCode",{parentName:"p"},"AppScope"),"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"NgoClient init",src:a(7797).A,width:"998",height:"502"})),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u30d7\u30ec\u30cf\u30d6\u3092NetworkManager\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"NGO\u3067\u540c\u671f\u3059\u308b\u30d7\u30ec\u30cf\u30d6\u306fNetworkManager\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n",(0,t.yg)("inlineCode",{parentName:"p"},"ExtrealCoreLearning.MultiplayCommon"),"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u30d7\u30ec\u30a4\u30e4\u30fc\u30d7\u30ec\u30cf\u30d6\u306e",(0,t.yg)("inlineCode",{parentName:"p"},"NetworkPlayer"),"\u3092NetworkManager\u306e",(0,t.yg)("inlineCode",{parentName:"p"},"NetworkPrefabs"),"\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"Network prefab",src:a(2444).A,width:"1000",height:"566"})),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"NgoClient\u306e\u521d\u671f\u5316\u3067\u554f\u984c\u304c\u8d77\u304d\u3066\u3044\u306a\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"NgoClient\u3092\u4f7f\u3063\u305f\u51e6\u7406\u306f\u307e\u3060\u5165\u308c\u3066\u3044\u306a\u3044\u306e\u3067App\u30b7\u30fc\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3053\u308c\u307e\u3067\u3068\u540c\u3058\u3088\u3046\u306b\u8d77\u52d5\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002"),(0,t.yg)("p",null,"\u8d77\u52d5\u6642\u306b",(0,t.yg)("inlineCode",{parentName:"p"},"Add Scene to Scenes in Build"),"\u3068\u8868\u793a\u3055\u308c\u305f\u5834\u5408\u306f",(0,t.yg)("inlineCode",{parentName:"p"},"No - Continue"),"\u3092\u9078\u629e\u3057\u3066\u3001NetworkManager\u306e\u4f5c\u6210\u624b\u9806\u304c\u6f0f\u308c\u3066\u3044\u308b\u306e\u3067\u6b21\u306e\u624b\u9806\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"StageNavigation\u3067\u30b7\u30fc\u30f3\u3092\u7ba1\u7406\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u306e",(0,t.yg)("inlineCode",{parentName:"strong"},"Scene Management\uff1eEnable Scene Management"),"\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059\u3002"))),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"MultiplayControl\u30b7\u30fc\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"ExtrealCoreLearning/MultiplayControl"),"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"MultiplayControl"),"\u30b7\u30fc\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u30ab\u30e1\u30e9\u306a\u3069\u521d\u671f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308bGameObject\u3092\u524a\u9664\u3057MultiplayControl\u30b7\u30fc\u30f3\u3092\u4e00\u65e6\u7a7a\u306b\u3057\u307e\u3059\u3002")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u306e\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308bModel\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning/MultiplayControl\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u3078\u306e\u53c2\u52a0\u3068\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u304b\u3089\u306e\u9000\u5ba4\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},'using Cysharp.Threading.Tasks;\nusing Extreal.Core.Logging;\nusing Extreal.Integration.Multiplay.NGO;\n\nnamespace ExtrealCoreLearning.MultiplayControl\n{\n    public class MultiplayRoom\n    {\n        private static readonly ELogger Logger = LoggingManager.GetLogger(nameof(MultiplayRoom));\n        private readonly NgoClient ngoClient;\n\n        public MultiplayRoom(NgoClient ngoClient)\n        {\n            this.ngoClient = ngoClient;\n        }\n\n        public async UniTask JoinAsync()\n        {\n            await ngoClient.ConnectAsync(new NgoConfig());\n            if (Logger.IsDebug())\n            {\n                Logger.LogDebug("Joined");\n            }\n        }\n\n        public async UniTask LeaveAsync()\n        {\n            await ngoClient.DisconnectAsync();\n            if (Logger.IsDebug())\n            {\n                Logger.LogDebug("Left");\n            }\n        }\n    }\n}\n')),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u3078\u306e\u53c2\u52a0\u3068\u9000\u5ba4\u3092\u5236\u5fa1\u3059\u308bPresenter\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning/MultiplayControl\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\nStageNavigator\u306e\u30a4\u30d9\u30f3\u30c8\u901a\u77e5\u3092\u4f7f\u3063\u3066\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u3078\u306e\u53c2\u52a0\u3068\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u304b\u3089\u306e\u9000\u5ba4\u3092\u5236\u5fa1\u3057\u3066\u3044\u307e\u3059\u3002\nOnStageTransitioned\u304c\u30b9\u30c6\u30fc\u30b8\u306b\u5165\u3063\u305f\u5f8c\u3001OnStageTransitioning\u304c\u30b9\u30c6\u30fc\u30b8\u304b\u3089\u51fa\u308b\u524d\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u306a\u308a\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"using System;\nusing Cysharp.Threading.Tasks;\nusing Extreal.Core.StageNavigation;\nusing ExtrealCoreLearning.App;\nusing UniRx;\nusing VContainer.Unity;\n\nnamespace ExtrealCoreLearning.MultiplayControl\n{\n    public class MultiplayControlPresenter : IInitializable, IDisposable\n    {\n        private readonly StageNavigator<StageName, SceneName> stageNavigator;\n        private readonly MultiplayRoom multiplayRoom;\n        private readonly CompositeDisposable disposables = new CompositeDisposable();\n\n        public MultiplayControlPresenter(StageNavigator<StageName, SceneName> stageNavigator,\n            MultiplayRoom multiplayRoom)\n        {\n            this.stageNavigator = stageNavigator;\n            this.multiplayRoom = multiplayRoom;\n        }\n\n        public void Initialize()\n        {\n            stageNavigator.OnStageTransitioned\n                .Subscribe(_ => multiplayRoom.JoinAsync().Forget())\n                .AddTo(disposables);\n\n            stageNavigator.OnStageTransitioning\n                .Subscribe(_ => multiplayRoom.LeaveAsync().Forget())\n                .AddTo(disposables);\n        }\n\n        public void Dispose()\n        {\n            disposables.Dispose();\n        }\n    }\n}\n")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"Model\u3068Presenter\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7d44\u307f\u7acb\u3066\u308bScope\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"ExtrealCoreLearning/MultiplayControl\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"using VContainer;\nusing VContainer.Unity;\n\nnamespace ExtrealCoreLearning.MultiplayControl\n{\n    public class MultiplayControlScope : LifetimeScope\n    {\n        protected override void Configure(IContainerBuilder builder)\n        {\n            builder.Register<MultiplayRoom>(Lifetime.Singleton);\n\n            builder.RegisterEntryPoint<MultiplayControlPresenter>();\n        }\n    }\n}\n")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"Scope\u30b9\u30af\u30ea\u30d7\u30c8\u3092MultiplayControl\u30b7\u30fc\u30f3\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"MultiplayControl scope",src:a(654).A,width:"979",height:"324"})),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"MultiplayControl\u30b7\u30fc\u30f3\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"Scope"),"\u3068\u3044\u3046\u540d\u524d\u3067MultiplayControlScope\u3092\u30a2\u30bf\u30c3\u30c1\u3057\u305fGameObject\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3067Parent\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"AppScope"),"\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"MultiplayControl\u30b7\u30fc\u30f3\u304c\u5b8c\u6210\u3057\u305f\u306e\u3067\u30b9\u30c6\u30fc\u30b8\u8a2d\u5b9a\u3068BuildSettings\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"SceneName\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"MultiplayControl"),"\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"StageConfig\u306e\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3067",(0,t.yg)("inlineCode",{parentName:"li"},"VirtualStage"),"\u306b",(0,t.yg)("inlineCode",{parentName:"li"},"MultiplayControl"),"\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"),(0,t.yg)("li",{parentName:"ul"},"BuildSettings\u306bMultiplayControl\u30b7\u30fc\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002")),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u306b\u63a5\u7d9a\u3067\u304d\u308b\u304b\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002")),(0,t.yg)("p",null,"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u306e\u52d5\u4f5c\u78ba\u8a8d\u306b\u306f",(0,t.yg)("a",{parentName:"p",href:"https://github.com/VeriorPies/ParrelSync"},"ParrelSync"),"\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306bParrelSync\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u308b\u306e\u3067\u3001ParrelSync\u3092\u4f7f\u3063\u3066\u8907\u6570\u306eUnity\u30a8\u30c7\u30a3\u30bf\u3092\u958b\u3044\u3066\u30d7\u30ec\u30a4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"ParrelSync",src:a(6466).A,width:"1185",height:"505"})),(0,t.yg)("p",null,"\u5b9f\u884c\u3059\u308b\u30b7\u30fc\u30f3\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc",(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-text"},"/Assets/ExtrealCoreLearning.MultiplayServer/MultiplayServer\n"))),(0,t.yg)("li",{parentName:"ul"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3",(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-text"},"/Assets/ExtrealCoreLearning/App/App\n")))),(0,t.yg)("p",null,"\u30d0\u30fc\u30c1\u30e3\u30eb\u7a7a\u9593\u306b\u79fb\u52d5\u3057\u3066\u3082\u3053\u308c\u307e\u3067\u3068\u5909\u308f\u308a\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u6b21\u306e\u3088\u3046\u306a\u30ed\u30b0\u304c\u51fa\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc",(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-text"},"[Debug:NgoServer] The client with client id 1 has connected\n"))),(0,t.yg)("li",{parentName:"ul"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3",(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-text"},"[Debug:NgoClient] The client has connected to the server\n")))),(0,t.yg)("h2",{id:"add-player-spawn"},"Add player spawn"),(0,t.yg)("p",null,"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30eb\u30fc\u30e0\u306b\u63a5\u7d9a\u3067\u304d\u305f\u306e\u3067\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u30b9\u30dd\u30fc\u30f3\u3059\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u3053\u306e\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b\u3068\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002"),(0,t.yg)("p",null,"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30b9\u30dd\u30fc\u30f3\u3092\u4f9d\u983c\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u308a\u3001\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u3067\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u30b9\u30dd\u30fc\u30f3\u3057\u307e\u3059\u3002"),(0,t.yg)("h3",{id:"application"},"Application"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306b\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30b9\u30dd\u30fc\u30f3\u3092\u4f9d\u983c\u3059\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30b9\u30dd\u30fc\u30f3\u4f9d\u983c\u306b\u306fNGO\u304c\u63d0\u4f9b\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30e1\u30c3\u30bb\u30fc\u30b8\u540d\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u3067\u5408\u308f\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u540d\u3092\u8868\u3059Enum\u3092",(0,t.yg)("inlineCode",{parentName:"p"},"ExtrealCoreLearning.MultiplayCommon"),"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"namespace ExtrealCoreLearning.MultiplayCommon\n{\n    public enum MessageName\n    {\n        PlayerSpawn\n    }\n}\n")),(0,t.yg)("p",null,"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306b\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30b9\u30dd\u30fc\u30f3\u3092\u4f9d\u983c\u3059\u308b\u51e6\u7406\u3092MultiplayRoom\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},"// highlight-start\nusing System;\n// highlight-end\nusing Cysharp.Threading.Tasks;\nusing Extreal.Core.Logging;\nusing Extreal.Integration.Multiplay.NGO;\n// highlight-start\nusing ExtrealCoreLearning.MultiplayCommon;\nusing UniRx;\nusing Unity.Collections;\nusing Unity.Netcode;\n// highlight-end\n\nnamespace ExtrealCoreLearning.MultiplayControl\n{\n    // highlight-start\n    public class MultiplayRoom : IDisposable\n    // highlight-end\n    {\n        private static readonly ELogger Logger = LoggingManager.GetLogger(nameof(MultiplayRoom));\n        private readonly NgoClient ngoClient;\n        // highlight-start\n        private readonly CompositeDisposable disposables = new CompositeDisposable();\n        // highlight-end\n\n        public MultiplayRoom(NgoClient ngoClient)\n        {\n            this.ngoClient = ngoClient;\n\n            // highlight-start\n            ngoClient.OnConnected\n                .Subscribe(_ => SendPlayerSpawnMessage(ngoClient))\n                .AddTo(disposables);\n            // highlight-end\n        }\n\n        // highlight-start\n        private static void SendPlayerSpawnMessage(NgoClient ngoClient)\n        {\n            var messageStream\n                = new FastBufferWriter(FixedString64Bytes.UTF8MaxLengthInBytes, Allocator.Temp);\n            ngoClient.SendMessage(MessageName.PlayerSpawn.ToString(), messageStream);\n        }\n        // highlight-end\n\n        public async UniTask JoinAsync()\n        {\n            // Omitted due to no changes\n        }\n\n        public async UniTask LeaveAsync()\n        {\n            // Omitted due to no changes\n        }\n\n        // highlight-start\n        public void Dispose() => disposables.Dispose();\n        // highlight-end\n    }\n}\n")),(0,t.yg)("h3",{id:"multiplay-server"},"Multiplay Server"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u9001\u4fe1\u3055\u308c\u308b\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u30b9\u30dd\u30fc\u30f3\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u5bfe\u5fdc\u3059\u308b\u51e6\u7406\u3092MultiplayServer\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002")),(0,t.yg)("p",null,"MessageHandler\u3092\u767b\u9332\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002"),(0,t.yg)("p",null,"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u30d7\u30ec\u30cf\u30d6\u306fAddressables\u3092\u4f7f\u3063\u3066\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\nExtrealCoreLearning/MultiplayControl\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e",(0,t.yg)("inlineCode",{parentName:"p"},"NetworkPlayer"),"\u3092\u9078\u629e\u3057\u3066\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3092\u958b\u304f\u3068\u3001",(0,t.yg)("inlineCode",{parentName:"p"},"PlayerPrefab"),"\u3068\u3044\u3046\u540d\u524d\u3067Addressables\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"),(0,t.yg)("p",null,"\u4eca\u56de\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5185\u5bb9\u3092\u4f55\u3082\u9001\u3063\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5185\u5bb9\u3067\u30a2\u30d0\u30bf\u30fc\u540d\u3092\u9001\u308a\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u9078\u629e\u3057\u305f\u30a2\u30d0\u30bf\u30fc\u3092\u30d7\u30ec\u30a4\u30e4\u30fc\u3068\u3057\u3066\u30b9\u30dd\u30fc\u30f3\u3059\u308b\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u30e6\u30fc\u30b6\u30fc\u304c\u9078\u629e\u3057\u305f\u30a2\u30d0\u30bf\u30fc\u306e\u30b9\u30dd\u30fc\u30f3\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\u306e\u3067\u8208\u5473\u304c\u3042\u308b\u65b9\u306f",(0,t.yg)("a",{parentName:"p",href:"../../category/sample-application"},"Sample Application"),"\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-csharp"},'// highlight-start\nusing System;\n// highlight-end\nusing Cysharp.Threading.Tasks;\n// highlight-start\nusing Extreal.Core.Logging;\n// highlight-end\nusing Extreal.Integration.Multiplay.NGO;\n// highlight-start\nusing ExtrealCoreLearning.MultiplayCommon;\nusing UniRx;\nusing Unity.Netcode;\nusing UnityEngine;\nusing UnityEngine.AddressableAssets;\n// highlight-end\n\nnamespace ExtrealCoreLearning.MultiplayServer\n{\n    // highlight-start\n    public class MultiplayServer : IDisposable\n    // highlight-end\n    {\n        // highlight-start\n        private static readonly ELogger Logger = LoggingManager.GetLogger(nameof(MultiplayServer));\n        private readonly CompositeDisposable disposables = new CompositeDisposable();\n        // highlight-end\n        private readonly NgoServer ngoServer;\n\n        public MultiplayServer(NgoServer ngoServer)\n        {\n            this.ngoServer = ngoServer;\n\n            // highlight-start\n            this.ngoServer.OnServerStarted.Subscribe(_ =>\n            {\n                ngoServer.RegisterMessageHandler(\n                    MessageName.PlayerSpawn.ToString(), PlayerSpawnMessageHandler);\n            }).AddTo(disposables);\n\n            this.ngoServer.OnServerStopping.Subscribe(_ =>\n            {\n                ngoServer.UnregisterMessageHandler(MessageName.PlayerSpawn.ToString());\n            }).AddTo(disposables);\n            // highlight-end\n        }\n\n        // highlight-start\n        private async void PlayerSpawnMessageHandler(ulong clientId, FastBufferReader messageStream)\n        {\n            if (Logger.IsDebug())\n            {\n                Logger.LogDebug($"{MessageName.PlayerSpawn}: {clientId}");\n            }\n\n            ngoServer.SpawnAsPlayerObject(clientId, await LoadPlayerPrefab());\n        }\n        // highlight-end\n\n        // highlight-start\n        private static async UniTask<GameObject> LoadPlayerPrefab()\n        {\n            var result = Addressables.LoadAssetAsync<GameObject>("PlayerPrefab");\n            return await result.Task;\n        }\n        // highlight-end\n\n        public UniTask StartAsync()\n        {\n            return ngoServer.StartServerAsync();\n        }\n\n        // highlight-start\n        public void Dispose()\n        {\n            disposables.Dispose();\n        }\n        // highlight-end\n    }\n}\n')),(0,t.yg)("h2",{id:"play"},"Play"),(0,t.yg)("admonition",{title:"step",type:"info"},(0,t.yg)("p",{parentName:"admonition"},"\u5168\u3066\u306e\u5b9f\u88c5\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u30d7\u30ec\u30a4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002")),(0,t.yg)("p",null,"\u5b9f\u884c\u3059\u308b\u30b7\u30fc\u30f3\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc",(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-text"},"/Assets/ExtrealCoreLearning.MultiplayServer/MultiplayServer\n"))),(0,t.yg)("li",{parentName:"ul"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3",(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-text"},"/Assets/ExtrealCoreLearning/App/App\n")))),(0,t.yg)("p",null,"\u64cd\u4f5c\u65b9\u6cd5\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"\u79fb\u52d5",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"W\uff1a\u524d\u3001A\uff1a\u5de6\u3001S\uff1a\u5f8c\u3001D\uff1a\u53f3"))),(0,t.yg)("li",{parentName:"ul"},"\u30a2\u30af\u30b7\u30e7\u30f3",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"\u30b9\u30da\u30fc\u30b9\uff1a\u30b8\u30e3\u30f3\u30d7"),(0,t.yg)("li",{parentName:"ul"},"\u5de6Shift\uff1a\u8d70\u308b")))),(0,t.yg)("p",null,"ParrelSync\u3067Unity\u30a8\u30c7\u30a3\u30bf\u3092\u958b\u3044\u3066\u30d7\u30ec\u30a4\u3057\u3066\u3044\u308b\u69d8\u5b50\u3067\u3059\u3002\n\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3057\u3066\u3044\u308bUnity\u30a8\u30c7\u30a3\u30bf\u306f\u5f8c\u308d\u306b\u96a0\u308c\u3066\u3044\u307e\u3059\u3002"),(0,t.yg)("p",null,(0,t.yg)("img",{alt:"Play",src:a(1363).A,width:"786",height:"425"})),(0,t.yg)("h2",{id:"next-step"},"Next Step"),(0,t.yg)("p",null,"\u3053\u308c\u3067NGO\u30e9\u30c3\u30d1\u30fc\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u306f\u7d42\u4e86\u3067\u3059\u3002\n\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\u3002"),(0,t.yg)("p",null,"\u3053\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u901a\u3058\u3066",(0,t.yg)("a",{parentName:"p",href:"/Extreal.Guide/1.0.0/integration/multiplay.ngo"},"NGO\u30e9\u30c3\u30d1\u30fc"),"\u3092\u4f7f\u3063\u305f\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30b5\u30fc\u30d0\u30fc\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u308a\u65b9\u3092\u4f53\u9a13\u3057\u307e\u3057\u305f\u3002\n\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3068\u3057\u3066NGO\u30e9\u30c3\u30d1\u30fc\u304c\u3088\u308a\u672c\u683c\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3069\u306e\u3088\u3046\u306b\u4f7f\u308f\u308c\u308b\u306e\u304b\u95a2\u5fc3\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u671f\u5f85\u306b\u5fdc\u3048\u308b\u305f\u3081\u3001\u3088\u308a\u672c\u683c\u7684\u306a\u5b9f\u88c5\u4f8b\u3068\u3057\u3066",(0,t.yg)("a",{parentName:"p",href:"../../category/sample-application"},"Sample Application"),"\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u305c\u3072Sample Application\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"))}u.isMDXComponent=!0},3324:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-add-networkmanager-da1d9942a7c2f9254dab4c3a3a725a23.png"},4431:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-add-scope-d23a92d527c5929a83853b35d855fb8d.png"},654:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-multiplaycontrol-scope-2f223073ab7360affb2549ad30fb907c.png"},2444:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-networkmanager-playerprefab-4a9806e88bea1db0de3e8abe4365b3f0.png"},6027:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-networkmanager-prefab-8c36c3f8fdc773902604aba510f4766f.png"},7797:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-ngoclient-init-ef7ec8226f0a73b9dfdd32dd8f978ad3.png"},6466:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-parrelsync-d1b8359df842b754142e0ef6c2a2c187.png"},1363:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-play-bee147265d95aad270b01ccfd31c190c.png"},6352:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/learning-ngo-project-success-9110efaf70a37c4adc5a5d637c760603.png"},262:(e,n,a)=>{a.d(n,{A:()=>i});const i="data:image/png;base64,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"}}]);