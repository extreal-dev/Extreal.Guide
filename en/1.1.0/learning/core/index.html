<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.1.0 docs-doc-page docs-doc-id-learning/core" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Core | Extreal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://extreal-dev.github.io/Extreal.Guide/en/1.1.0/learning/core"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.1.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.1.0"><meta data-rh="true" name="docsearch:version" content="1.1.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.1.0"><meta data-rh="true" property="og:title" content="Core | Extreal"><meta data-rh="true" name="description" content="In this section, you will learn about Core."><meta data-rh="true" property="og:description" content="In this section, you will learn about Core."><link data-rh="true" rel="icon" href="/Extreal.Guide/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://extreal-dev.github.io/Extreal.Guide/en/1.1.0/learning/core"><link data-rh="true" rel="alternate" href="https://extreal-dev.github.io/Extreal.Guide/1.1.0/learning/core" hreflang="ja"><link data-rh="true" rel="alternate" href="https://extreal-dev.github.io/Extreal.Guide/en/1.1.0/learning/core" hreflang="en"><link data-rh="true" rel="alternate" href="https://extreal-dev.github.io/Extreal.Guide/1.1.0/learning/core" hreflang="x-default"><script src="https://plausible.io/js/script.js" defer="defer" data-domain="extreal-dev.github.io,all.fintan"></script>
<script src="/Extreal.Guide/js/custom.js"></script>
<script src="/Extreal.Guide/en/js/custom.js"></script><link rel="stylesheet" href="/Extreal.Guide/en/assets/css/styles.bb6e314e.css">
<script src="/Extreal.Guide/en/assets/js/runtime~main.daf27f9c.js" defer="defer"></script>
<script src="/Extreal.Guide/en/assets/js/main.204b57dc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://fintan.jp" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/Extreal.Guide/en/img/fintan-logo.jpg" alt="Fintan" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Extreal.Guide/en/img/fintan-logo.jpg" alt="Fintan" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/Extreal.Guide/en/">Extreal</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Extreal.Guide/en/1.1.0/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/Extreal.Guide/en/1.1.0/intro">1.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Extreal.Guide/en/next/learning/core">Next</a></li><li><a class="dropdown__link" href="/Extreal.Guide/en/learning/core">1.2.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Extreal.Guide/en/1.1.0/learning/core">1.1.0</a></li><li><a class="dropdown__link" href="/Extreal.Guide/en/1.0.0/learning/core">1.0.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/Extreal.Guide/1.1.0/learning/core" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/Extreal.Guide/en/1.1.0/learning/core" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://fintan.jp/blog-category/xr/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Fintan - XR<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/extreal-dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Extreal.Guide/en/1.1.0/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Extreal.Guide/en/1.1.0/category/release">Release</a><button aria-label="Expand sidebar category &#x27;Release&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Extreal.Guide/en/1.1.0/category/core">Core</a><button aria-label="Expand sidebar category &#x27;Core&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Extreal.Guide/en/1.1.0/category/integration">Integration</a><button aria-label="Expand sidebar category &#x27;Integration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Extreal.Guide/en/1.1.0/category/sample-application">Sample Application</a><button aria-label="Expand sidebar category &#x27;Sample Application&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/Extreal.Guide/en/1.1.0/category/learning">Learning</a><button aria-label="Collapse sidebar category &#x27;Learning&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Extreal.Guide/en/1.1.0/learning/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Extreal.Guide/en/1.1.0/learning/core">Core</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Extreal.Guide/en/1.1.0/learning/chat.vivox">Chat using Vivox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Extreal.Guide/en/1.1.0/learning/multiplay.ngo">Multiplay using Netcode for GameObjects</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Extreal.Guide/en/1.1.0/category/legal">Legal</a><button aria-label="Expand sidebar category &#x27;Legal&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Extreal<!-- --> <b>1.1.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/Extreal.Guide/en/learning/core">latest version</a></b> (<!-- -->1.2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Extreal.Guide/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Extreal.Guide/en/1.1.0/category/learning"><span itemprop="name">Learning</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Core</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.1.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="core">Core</h1>
<p>In this section, you will learn about <a href="../category/core">Core</a>.</p>
<ul>
<li>Approximate learning time<!-- -->
<ul>
<li>60 min</li>
</ul>
</li>
<li>Unity Version<!-- -->
<ul>
<li>2021.3.20f1</li>
</ul>
</li>
</ul>
<p>You will start by creating a project and introducing Core features, as well as VContainer and UniRx, to build the application architecture assumed by Extreal.</p>
<h2 id="create-project">Create project</h2>
<admonition title="step" type="info"><p>First, let&#x27;s create a project.</p></admonition>
<p>Create a new project from Unity Hub.</p>
<p><img alt="create project" src="/Extreal.Guide/en/assets/images/learning-core-create-project-b1ad19b78bf2800f03ddb44854bc94b6.png" width="658" height="386"></p>
<ul>
<li>Editor version: <code>2021.3.20f1</code></li>
<li>Template: <code>3D</code></li>
<li>Project name: <code>ExtrealCoreLearning</code></li>
</ul>
<admonition title="step" type="info"><p>Once the Unity editor starts, run it to make sure there are no problems.</p></admonition>
<p>Let&#x27;s run SampleScene.
Since nothing is placed in the scene, nothing will happen.
If nothing appears in the Console, it is a successful.</p>
<h2 id="create-entry-point">Create entry point</h2>
<admonition title="step" type="info"><p>Create a directory for the application and an App scene to serve as the entry point.</p></admonition>
<p><img alt="App Scene" src="/Extreal.Guide/en/assets/images/learning-core-app-scene-f3c3ff0917931aa467cab7d525b60e53.png" width="464" height="328"></p>
<ul>
<li>Remove the initial <code>Assets/Scenes</code> directory</li>
<li>Create a directory that will become <code>Assets/ExtrealCoreLearning/App</code></li>
<li>Create an <code>App</code> scene in the <code>App</code> directory</li>
</ul>
<h2 id="add-logging">Add Logging</h2>
<p>Add <a href="/Extreal.Guide/en/1.1.0/core/logging">Logging</a> to the application.</p>
<admonition title="step" type="info"><p>Add Logging from Package Manager.</p></admonition>
<p>Add Logging by specifying a Git URL.
Git URL is obtained from <a href="/Extreal.Guide/en/1.1.0/core/logging#package">Package of Logging</a>.</p>
<p><img alt="Add Logging" src="/Extreal.Guide/en/assets/images/learning-core-logging-package-5b92cf39e900bbbc3612b0b77074660d.png" width="618" height="407"></p>
<p>If <code>Extreal.Core.Logging</code> is added to Package Manager, it is successful.
The version depends on the timing of implementation.</p>
<admonition title="step" type="info"><p>Allow scripts to reference Logging.</p></admonition>
<p>Set Logging to Assembly Definition for the application.</p>
<p><img alt="Logging Assembly Configuration" src="/Extreal.Guide/en/assets/images/learning-core-logging-assembly-787825f4b5a62caaec7da422925c168c.png" width="863" height="420"></p>
<ul>
<li>Create an Assembly Definition named <code>ExtrealCoreLearning</code> in the ExtrealCoreLearning directory</li>
<li>Specify <code>ExtrealCoreLearning</code> as the Root Namespace</li>
<li>Add <code>Extreal.Core.Logging</code> to the Assembly Definition References</li>
<li>Uncheck <code>Use GUIDs</code> in Assembly Definition References</li>
</ul>
<admonition title="step" type="info"><p>Add a Logging setting since we want to output Debug-level logs for development.</p></admonition>
<p>Since the default logging level for Logging is Info, add Logging Settings to change the logging level.</p>
<p>Create an <code>AppTest</code> script in the App scene by referring to <a href="/Extreal.Guide/en/1.1.0/core/logging#settings">Logging Settings</a>.</p>
<ul>
<li>Create an AppTest script in the App directory</li>
<li>Create a GameObject with the AppTest script attached in the App scene</li>
</ul>
<pre><code class="language-csharp">using Extreal.Core.Logging;
using UnityEngine;

namespace ExtrealCoreLearning.App
{
    public class AppTest : MonoBehaviour
    {
        private static void InitializeApp()
        {
            const LogLevel logLevel = LogLevel.Debug;
            LoggingManager.Initialize(logLevel: logLevel);
        }

        private void Awake()
        {
            InitializeApp();
        }
    }
}
</code></pre>
<admonition title="step" type="info"><p>Since it is not possible to check the operation of Logging as it is, add processing so that logging is output immediately after initialization of Logging.</p></admonition>
<pre><code class="language-csharp">private static void InitializeApp()
{
    const LogLevel logLevel = LogLevel.Debug;
    LoggingManager.Initialize(logLevel: logLevel);

    // highlight-start
    var logger = LoggingManager.GetLogger(nameof(AppTest));
    if (logger.IsDebug())
    {
        logger.LogDebug(&quot;Hello, world!&quot;);
    }
    // highlight-end
}
</code></pre>
<p>Run the App scene.
If the Console outputs <code>Hello, world!</code>, it is successful.</p>
<p><img alt="Logging assembly configuration" src="/Extreal.Guide/en/assets/images/learning-core-logging-success-e5cc020fc0b58879b0457aa0ba4c3585.png" width="688" height="171"></p>
<h2 id="add-stage-navigation">Add Stage Navigation</h2>
<p>Add <a href="/Extreal.Guide/en/1.1.0/core/stage-navigation">Stage Navigation</a> to the application.</p>
<admonition title="step" type="info"><p>Stage Navigation depends on <a href="https://github.com/Cysharp/UniTask">UniTask</a> and <a href="https://github.com/neuecc/UniRx">UniRx</a>, so add UniTask and UniRx first.</p></admonition>
<p>UniTask and UniRx are provided by <a href="https://openupm.com/">OpenUPM</a>, so add OpenUPM settings.
Go to <code>Edit</code> -&gt; <code>Project Settings...</code> -&gt; <code>Package Manager</code> and add OpenUPM to Scoped Registries.</p>
<p><img alt="Add Unitask" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-unitask-9805eb8fc21b47bbb6979491e13b1009.png" width="537" height="382"></p>
<ul>
<li>Name:<!-- -->
<pre><code class="language-text">OpenUPM
</code></pre>
</li>
<li>URL:<!-- -->
<pre><code class="language-text">https://package.openupm.com
</code></pre>
</li>
<li>Scope(s):<!-- -->
<ul>
<li>UniTask<!-- -->
<pre><code class="language-text">com.cysharp
</code></pre>
</li>
<li>UniRx<!-- -->
<pre><code class="language-text">com.neuecc
</code></pre>
</li>
</ul>
</li>
</ul>
<admonition title="step" type="info"><p>Now that UniTask and UniRx have been added, make Stage Navigation available from the script.</p></admonition>
<p>Stage Navigation depends on <a href="/Extreal.Guide/en/1.1.0/core/common">Common</a>, so add Common as well.</p>
<p>Operate the Package Manager and Assembly Definition in the same manner as for Logging.
The Git URLs for Common and Stage Navigation are obtained from <a href="/Extreal.Guide/en/1.1.0/core/common#package">Package for Common</a> and <a href="/Extreal.Guide/en/1.1.0/core/stage-navigation#package">Package for Stage Navigation</a>.
Also set UniTask and UniRx in Assembly Definition.</p>
<p><img alt="Add Stage Navigation" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-add-e8aa8d19b40133d5beaeb8516d00a487.png" width="910" height="386"></p>
<p>To test the stage navigation, let&#x27;s add a title screen and transition to the title screen immediately after launching the app.</p>
<admonition title="step" type="info"><p>First, add a title screen.</p></admonition>
<p><img alt="TitleScreen" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-titlescreen-55d7d4bfff7bc56e29b1d7a164678c6e.png" width="393" height="249"></p>
<ul>
<li>Create a <code>TitleScreen</code> directory in the same hierarchy as the App directory</li>
<li>Create a <code>TitleScreen</code> scene in it</li>
<li>Remove the default GameObjects such as the camera from the TitleScreen scene and make the scene empty</li>
<li>Add a <code>Canvas</code> to the scene. In the inspector, make the following settings
<img alt="Title Screen Canvas" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-canvas-8722869caafb1bcb8f07bc6db3412e66.png" width="449" height="156">
<ul>
<li>Canvas Scaler<!-- -->
<ul>
<li>UI Scale Mode: <code>Scale With Screen Size</code></li>
</ul>
</li>
</ul>
</li>
<li>Add an <code>Image</code> under the Canvas. Make the following settings in the inspector
<img alt="Title Screen Image" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-image-c6113f5c457a111ccea3eb1a103f8582.png" width="450" height="382">
<ul>
<li>Rect Transform<!-- -->
<ul>
<li>Anchor Presets<!-- -->
<ul>
<li>X: <code>stretch</code></li>
<li>Y: <code>stretch</code></li>
</ul>
</li>
<li>All from Left to Buttom are <code>0 (Zero)</code></li>
</ul>
</li>
<li>Image<!-- -->
<ul>
<li>Color<!-- -->
<ul>
<li>Hexadecimal: <code>FF6F61</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Add <code>Text - TextMeshPro</code> under <code>Image</code>
<ul>
<li>Create a title <code>Extreal Core Learning</code></li>
<li>You can decide the size and position freely</li>
<li>When the TMP Importer appears, select <code>Import TMP Essentials</code>. Only the first time you use TextMeshPro, the TMP Importer will appear. Once imported, close the TMP Importer</li>
</ul>
</li>
<li>Add <code>Button - TextMeshPro</code> under Image<!-- -->
<ul>
<li>Create a button called <code>Go</code></li>
<li>You can decide the size and position of this button freely as well</li>
</ul>
</li>
</ul>
<admonition title="step" type="info"><p>Now that the title screen has been added, create the stage settings.</p></admonition>
<p>Refer to <a href="/Extreal.Guide/en/1.1.0/core/stage-navigation#settings">Settings for Stage Navigation</a> to create stage settings.
The three types to be created in the stage settings are placed in the App directory.</p>
<pre><code class="language-csharp">public enum StageName
{
    TitleStage = 0,
}
public enum SceneName
{
    TitleScreen = 100,
}
</code></pre>
<p>Once the three types have been created, create a <code>StageConfig</code> object.</p>
<p><img alt="StageConfig" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-config-9454510a01a2fe14d552f236a745e03b.png" width="1032" height="310"></p>
<ul>
<li>Create a <code>StageConfig</code> object in the App directory from the Assets menu</li>
<li>Set the stage of the title screen in the StageConfig object</li>
</ul>
<admonition title="step" type="info"><p>Now that the stage transition is ready, add a processing to make the transition to the title screen immediately after the application is launched.</p></admonition>
<ul>
<li>Add the SerializeField and Start method to the AppTest script</li>
<li>Specify the StageConfig object in the inspector</li>
</ul>
<pre><code class="language-csharp">using Extreal.Core.Logging;
// highlight-start
using Extreal.Core.StageNavigation;
// highlight-end
using UnityEngine;

namespace ExtrealCoreLearning.App
{
    public class AppTest : MonoBehaviour
    {
        private static void InitializeApp()
        {
            // Omitted due to no changes
        }

        private void Awake()
        {
            // Omitted due to no changes
        }
        
        // highlight-start
        [SerializeField] private StageConfig stageConfig;

        private void Start()
        {
            var stageNavigator = new StageNavigator&lt;StageName, SceneName&gt;(stageConfig);
            stageNavigator.ReplaceAsync(StageName.TitleStage);
        }
        // highlight-end
    }
}
</code></pre>
<admonition title="step" type="info"><p>Let&#x27;s run the App scene.</p></admonition>
<p>Running the App scene in this state will result in the following error.</p>
<p><img alt="Stage transition error" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-error-e364088fd00842b3dc9fa4fe46f61345.png" width="606" height="290"></p>
<p>Add a <code>TitleScreen</code> scene to <code>Scenes In Build</code> in Build Settings.</p>
<admonition title="step" type="info"><p>Let&#x27;s run the App scene again.</p></admonition>
<p>If the title screen appears and the Console shows <code>[Debug:StageNavigator] Transitions to &#x27;TitleStage&#x27;</code>, it is successful.</p>
<p><img alt="Stage transition success" src="/Extreal.Guide/en/assets/images/learning-core-stagenavigation-success-f02b94fa36c4d6cf684e706518a27fdd.png" width="606" height="676"></p>
<h2 id="apply-mvrp-pattern">Apply MV(R)P pattern</h2>
<p>That is all the Core features that Extreal provides, but we would like to add <a href="https://vcontainer.hadashikick.jp/">VContainer</a> to get closer to <a href="/Extreal.Guide/en/1.1.0/intro#application">the application architecture assumed by Extreal</a>.</p>
<admonition title="step" type="info"><p>Add an avatar selection screen to which the title screen transitions.</p></admonition>
<p>The avatar selection screen is only used as a transition destination, so it is created by copying the title screen.</p>
<p><img alt="Avatar Selection Screen" src="/Extreal.Guide/en/assets/images/learning-core-mvp-avatarselection-167bd1d16ff8cff0c07f343bfe9fea26.png" width="902" height="457"></p>
<ul>
<li>Create an <code>AvatarSelectionScreen</code> directory in the same hierarchy as the App directory</li>
<li>Create an <code>AvatarSelectionScreen</code> scene in it</li>
<li>Remove the default GameObjects such as the camera in the AvatarSelectionScreen scene and make the scene empty</li>
<li>Copy the Canvas and EventSystem from the TitleScreen scene and paste them into the AvatarSelectionScreen scene</li>
<li>Change the title to <code>Avatar Selection</code></li>
</ul>
<admonition title="step" type="info"><p>Then add the stage settings.</p></admonition>
<p><img alt="Avatar Selection Stage Configuration" src="/Extreal.Guide/en/assets/images/learning-core-mvp-stageconfig-1581de09c38ef2370c9fb5d73e4a327d.png" width="437" height="401"></p>
<ul>
<li>Add <code>AvatarSelectionStage</code> to StageName and <code>AvatarSelectionScreen</code> to SceneName</li>
<li>Add <code>AvatarSelectionStage</code> in the StageConfig object inspector</li>
</ul>
<p>Add the <code>AvatarSelectionScreen</code> scene to <code>Scenes In Build</code> in Build Settings.</p>
<p>The UI and stage settings are ready.</p>
<admonition title="step" type="info"><p>Add VContainer to your application.</p></admonition>
<p>VContainer is obtained from OpenUPM as well as UniTask and UniRx.</p>
<p>Go to <code>Edit</code> -&gt; <code>Project Settings...</code> -&gt; <code>Package Manager</code> and add the Scope(s) from OpenUPM.</p>
<p><img alt="Add VContainer" src="/Extreal.Guide/en/assets/images/learning-core-mvp-thirdparty-5c1e5ea29165f2afe2ce2f6f14540815.png" width="543" height="385"></p>
<ul>
<li>VContainer:<!-- -->
<pre><code class="language-text">jp.hadashikick
</code></pre>
</li>
</ul>
<admonition title="step" type="info"><p>Then add VContainer to Package Manager and Assembly Definition.</p></admonition>
<p><img alt="VContainer setting" src="/Extreal.Guide/en/assets/images/learning-core-mvp-pmandad-73fe677d316f1fe417bdae1335091f49.png" width="943" height="407"></p>
<ul>
<li>Select Packages: <code>My Registries</code> in Package Manager and install VContainer</li>
<li>Set VContainer to Assembly Definition of the application</li>
</ul>
<p>Now you can use VContainer.</p>
<h3 id="vcontainer">VContainer</h3>
<p>Rebuild the AppTest created for confirmation using VContainer.</p>
<admonition title="step" type="info"><p>First, create a Presenter script as an entry point.</p></admonition>
<p>Create it in the App directory.
When the App scene starts, make the transition to the title screen.</p>
<pre><code class="language-csharp">using System.Threading;
using Cysharp.Threading.Tasks;
using Extreal.Core.StageNavigation;
using VContainer.Unity;

namespace ExtrealCoreLearning.App
{
    public class AppPresenter : IAsyncStartable
    {
        private StageNavigator&lt;StageName, SceneName&gt; stageNavigator;

        public AppPresenter(StageNavigator&lt;StageName, SceneName&gt; stageNavigator)
        {
            this.stageNavigator = stageNavigator;
        }

        public async UniTask StartAsync(CancellationToken cancellation)
        {
            await stageNavigator.ReplaceAsync(StageName.TitleStage);
        }
    }
}
</code></pre>
<admonition title="step" type="info"><p>Next, create a Scope script as a LifetimeScope for VContainer.</p></admonition>
<p>Create it in the App directory.
Override Awake in the Scope script to configure Logging before VContainer processing.</p>
<pre><code class="language-csharp">using Extreal.Core.Logging;
using Extreal.Core.StageNavigation;
using UnityEngine;
using VContainer;
using VContainer.Unity;

namespace ExtrealCoreLearning.App
{
    public class AppScope : LifetimeScope
    {
        [SerializeField] private StageConfig stageConfig;

        private static void InitializeApp()
        {
            const LogLevel logLevel = LogLevel.Debug;
            LoggingManager.Initialize(logLevel: logLevel);

            var logger = LoggingManager.GetLogger(nameof(AppScope));
            if (logger.IsDebug())
            {
                logger.LogDebug(&quot;Hello, world!&quot;);
            }
        }

        protected override void Awake()
        {
            InitializeApp();
            base.Awake();
        }

        protected override void Configure(IContainerBuilder builder)
        {
            builder.RegisterComponent(stageConfig).AsImplementedInterfaces();
            builder.Register&lt;StageNavigator&lt;StageName, SceneName&gt;&gt;(Lifetime.Singleton);

            builder.RegisterEntryPoint&lt;AppPresenter&gt;();
        }
    }
}
</code></pre>
<p>StageConfig, StageNavigator and AppPresenter as entry points are registered.
With this registration, StageConfig is set to StageNavigator and StageNavigator is set to AppPresenter.
In this way, the DI container provided by VContainer is used to build up the object structure so that each object can execute processing.</p>
<admonition title="step" type="info"><p>Set the Scope script to the App scene.</p></admonition>
<p><img alt="AppScope" src="/Extreal.Guide/en/assets/images/learning-core-mvp-appscope-418745f96414528d86a1b823af42fa25.png" width="832" height="356"></p>
<ul>
<li>Create a GameObject with the AppScope script attached to the App scene with the name <code>Scope</code>.</li>
<li>Set the StageConfig object in the inspector</li>
<li>Remove the AppTest script and the GameObject with the AppTest script attached in the App scene as they are no longer needed</li>
</ul>
<p>Run the App scene.
If the title screen and Console log output appear as before, it is successful.</p>
<h3 id="unirx">UniRx</h3>
<p>Implement the Go button on the title screen using UniRx.</p>
<admonition title="step" type="info"><p>Create a View script for the title screen.</p></admonition>
<p>Create it in the TitleScreen directory.</p>
<pre><code class="language-csharp">using System;
using UniRx;
using UnityEngine;
using UnityEngine.UI;

namespace ExtrealCoreLearning.TitleScreen
{
    public class TitleScreenView : MonoBehaviour
    {
        [SerializeField] private Button goButton;

        public IObservable&lt;Unit&gt; OnGoButtonClicked
            =&gt; goButton.OnClickAsObservable().TakeUntilDestroy(this);
    }
}
</code></pre>
<p>This defines <code>OnGoButtonClicked</code>, which notifies an event when the Go button is pressed using UniRx.</p>
<admonition title="step" type="info"><p>Next, create a Presenter script that will transition to the avatar selection screen when the Go button is pressed.</p></admonition>
<p>Create it in the TitleScreen directory.</p>
<pre><code class="language-csharp">using Cysharp.Threading.Tasks;
using Extreal.Core.Common.System;
using Extreal.Core.StageNavigation;
using ExtrealCoreLearning.App;
using UniRx;
using VContainer.Unity;

namespace ExtrealCoreLearning.TitleScreen
{
    public class TitleScreenPresenter : DisposableBase, IInitializable
    {
        private StageNavigator&lt;StageName, SceneName&gt; stageNavigator;

        private TitleScreenView titleScreenView;

        private CompositeDisposable compositeDisposable = new CompositeDisposable();

        public TitleScreenPresenter(StageNavigator&lt;StageName, SceneName&gt; stageNavigator,
            TitleScreenView titleScreenView)
        {
            this.stageNavigator = stageNavigator;
            this.titleScreenView = titleScreenView;
        }

        public void Initialize()
        {
            titleScreenView.OnGoButtonClicked.Subscribe(_ =&gt;
            {
                stageNavigator.ReplaceAsync(StageName.AvatarSelectionStage).Forget();
            }).AddTo(compositeDisposable);
        }

        protected override void ReleaseManagedResources()
        {
            compositeDisposable?.Dispose();
        }
    }
}
</code></pre>
<p>This maps the event notification of the Go button to the transition to the avatar selection screen.</p>
<p>It is recommended that a class that disposes implement the <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose">Dispose Pattern</a>.
To apply the Dispose Pattern, TitleScreenPresenter inherits from the DisposableBase class provided by Common and implements the managed resources release processing in the ReleaseManagedResources method.
Please refer to <a href="/Extreal.Guide/en/1.1.0/core/common#core-common-dp">Common</a> for details on how to apply the Dispose Pattern.</p>
<admonition title="step" type="info"><p>Last, create a Scope script that ties the View and Presenter together.</p></admonition>
<p>Create it in the TitleScreen directory.</p>
<pre><code class="language-csharp">using UnityEngine;
using VContainer;
using VContainer.Unity;

namespace ExtrealCoreLearning.TitleScreen
{
    public class TitleScreenScope : LifetimeScope
    {
        [SerializeField] private TitleScreenView titleScreenView;

        protected override void Configure(IContainerBuilder builder)
        {
            builder.RegisterComponent(titleScreenView);

            builder.RegisterEntryPoint&lt;TitleScreenPresenter&gt;();
        }
    }
}
</code></pre>
<p>Set the View and Scope scripts to the TitleScreen scene.</p>
<p><img alt="AppScope" src="/Extreal.Guide/en/assets/images/learning-core-mvp-titlescreenobject-5e9c075ccb3fb9bb517a0ac18d31d8b7.png" width="855" height="614"></p>
<ul>
<li>Create a GameObject with the TitleScreenView script attached to the TitleScreen scene with the name <code>View</code></li>
<li>Set up a Button object in the inspector</li>
<li>Create a GameObject with the TitleScreenScope script attached to the TitleScreen scene with the name <code>Scope</code></li>
<li>Set the View object in the inspector</li>
</ul>
<admonition title="step" type="info"><p>Let&#x27;s run the App scene.</p></admonition>
<p>If you run the App scene in this state, you will get the following error.</p>
<p><img alt="AppScope" src="/Extreal.Guide/en/assets/images/learning-core-mvp-error-41eedec698c71fb75d612af204c3251e.png" width="708" height="344"></p>
<p>StageNavigator is set to TitleScreenPresenter, but it is not registered in the scope, resulting in the error.
This error occurs because StageNavigator is in AppScope and TitleScreenPresenter is in TitleScreenScope, which are different scopes.</p>
<p>In VContainer, you can specify the parent of a scope to extend the object&#x27;s search range to the parent.
Specifying AppScope for Parent in the TitleScreenScope inspector resolves this error.</p>
<p><img alt="AppScope" src="/Extreal.Guide/en/assets/images/learning-core-mvp-parent-c326ff7d86c5ac94ecdd44bcdc2386b3.png" width="452" height="366"></p>
<p>In this way, scopes are created with hierarchy in mind.
Design the overall scope so that the commonly used scopes are more parental.</p>
<admonition title="step" type="info"><p>Let&#x27;s run the App scene again.</p></admonition>
<p>If you can transition from the title screen to the avatar selection screen, it is successful.</p>
<h2 id="next-step">Next Step</h2>
<p>This concludes our hands-on with Core.
Thank you for your time.</p>
<p>Through this hands-on, you have already built the features required for <a href="/Extreal.Guide/en/1.1.0/intro#application">the application architecture assumed by Extreal</a>.
As a next step, you might be interested in how the architecture you built in this hands-on will be used in a more serious application.
To meet your expectations, we provide <a href="../category/sample-application">Sample Application</a> as an example of a full-scale implementation.
Please take a look at <a href="../category/sample-application">Sample Application</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Extreal.Guide/en/1.1.0/learning/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Extreal.Guide/en/1.1.0/learning/chat.vivox"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chat using Vivox</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-project" class="table-of-contents__link toc-highlight">Create project</a></li><li><a href="#create-entry-point" class="table-of-contents__link toc-highlight">Create entry point</a></li><li><a href="#add-logging" class="table-of-contents__link toc-highlight">Add Logging</a></li><li><a href="#add-stage-navigation" class="table-of-contents__link toc-highlight">Add Stage Navigation</a></li><li><a href="#apply-mvrp-pattern" class="table-of-contents__link toc-highlight">Apply MV(R)P pattern</a><ul><li><a href="#vcontainer" class="table-of-contents__link toc-highlight">VContainer</a></li><li><a href="#unirx" class="table-of-contents__link toc-highlight">UniRx</a></li></ul></li><li><a href="#next-step" class="table-of-contents__link toc-highlight">Next Step</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apache License 2.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Feedback</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/extreal-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Used by</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.buralit.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">BURALIT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item">
                    <a class="footer__link-item" href="javascript:void(0);" onclick="goTermsOfUse()">Terms of Use</a>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 TIS, Inc. Built with Docusaurus.<br><small>The names of products or services appearing on this site are trademarks or registered trademarks of the respective companies.</small></div></div></div></footer></div>
</body>
</html>