---
sidebar_position: 5
---

# Test Case

[Test Planning](./test-planning.md)で実施対象としたテスト種別のうちテストケースが必要なテストのみ記載しています。

## Functional test

:::caution
ダウンロード確認画面は初回のみ表示されるように実装していますが、Unity Forum DiscussionによるとAddressablesの不具合により毎回ダウンロード確認画面が表示されます。
初回ダウンロードのアセットがキャッシュされているため2回目からはダウンロードはすぐに終わります。

[In 2022.2.xx WebGL builds, GetDownloadSizeAsync does not reflect the cache.](https://forum.unity.com/threads/in-2022-2-xx-webgl-builds-getdownloadsizeasync-does-not-reflect-the-cache.1440877/)
:::

- タイトル画面
  - タイトルが表示されること
  - Goボタンでアバター選択画面に移動できること
    - 初回はダウンロード確認画面が表示されること
      - OKボタンでダウンロードが開始されダウンロード状況が通知されること
      - Cancelボタンでタイトル画面に戻ること
- アバター選択画面
  - 名前を入力できること
  - アバターを選択できること
    - [Starter Assets - Third Person Character Controller](https://assetstore.unity.com/packages/essentials/starter-assets-third-person-character-controller-196526)のArmature
    - [Mixamo](https://www.mixamo.com)のMichelle、Amy
  - Goボタンでグループ選択画面に移動できること
- グループ選択画面
  - ホストまたはクライアントを選択できること
  - ホストを選択した場合
    - グループ名を入力できること
    - グループ名が既に存在する場合はエラーメッセージが表示されること
  - クライアントを選択した場合
    - グループを選択できること
  - Goボタンでバーチャル空間に移動できること
    - 初回はダウンロード確認画面が表示されること
      - OKボタンでダウンロードが開始されダウンロード状況が通知されること
      - Cancelボタンでグループ選択画面に戻ること
    - 最大人数を超えた場合は通知されること
  - Backボタンでアバター選択画面に移動できること
- バーチャル空間
  - ボイスチャットができること
    - ミュートの切り替えができること
  - テキストチャットができること
    - メッセージを打ち込むと画面に表示されること
  - マルチプレイができること
    - 移動とジャンプができること
  - 空間を切り替えられること
  - グループ選択画面に戻れること

## Configuration test

- [Functional test](#functional-test)と同じ

## Failure test

- アセットダウンロード先のサーバーにアクセスできない場合
  - クライアントがネットワークに繋がらない場合
    - 再接続が開始され再接続状況（成功、失敗）が通知されること
  - アセットダウンロード先のサーバーで障害が発生しクライアントに応答できない場合
    - 再接続が開始され再接続状況（成功、失敗）が通知されること
- メッセージングサーバにアクセスできない場合
  - クライアントがネットワークに繋がらない場合
    - アクセスできないことがユーザーに通知されること
    - マルチプレイとテキストチャット以外は使用できること
  - メッセージングサーバで障害が発生しクライアントに応答できない場合
    - アクセスできないことがユーザーに通知されること
    - マルチプレイとテキストチャット以外は使用できること
- シグナリングサーバにアクセスできない場合
  - クライアントがネットワークに繋がらない場合
    - アクセスできないことがユーザーに通知されること
    - ボイスチャット以外は使用できること
  - シグナリングサーバで障害が発生しクライアントに応答できない場合
    - アクセスできないことがユーザーに通知されること
    - ボイスチャット以外は使用できること
- ホストにアクセスできない場合
  - クライアントがネットワークに繋がらない場合
    - アクセスできないことがユーザーに通知されること
    - ボイスチャット以外は使用できること
  - ホストで障害が発生しクライアントに応答できない場合
    - アクセスできないことがユーザーに通知されること
    - ボイスチャット以外は使用できること
- アプリケーションの利用状況可視化のサーバーにアクセスできない場合
  - クライアントがネットワークに繋がらない場合
    - 再接続やユーザー通知を行わない
    - 全ての機能が使用できること
  - サーバで障害が発生しクライアントに応答できない場合
    - クライアントからデータ送信するのみで応答は使用しないため対象外
- 空間の背景に使う360度動画/画像のダウンロード先のサーバーにアクセスできない場合
  - アクセスできないことがユーザーに通知されること
